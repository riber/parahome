<?xml version="1.0" encoding="utf-8" ?> 
  <mylog4net>
    <!-- appender:日志输出方式。可以将日志输出到多种介质中，包括多种数据库、文本文件、控制台窗口、log4j规范的xml文件等等-->
    <!--输出为文本文件，所有日志都追加到一个日志文件中，若日志量大，不推荐使用。 -->
    <appender name="FileAppender" type="mylog4net.Appender.FileAppender">
      <file value="log/logfile.log" />
      <appendToFile value="true" />
      <!--日志输出格式-->
      <layout type="mylog4net.Layout.PatternLayout">
        <conversionPattern value="%d [%t] %-5p %c - %m%n" />
      </layout>
    </appender>
    <!-- 输出为文本文件，根据相应条件，日志以递进方式追加到不同的文件中。推荐-->
    <!-- 条件有：Size、Date、Composite-->
    <appender name="RollingLogFileAppender" type="mylog4net.Appender.RollingFileAppender">
      <file value="log/logfile" />
      <appendToFile value="true" />
      <!-- 根据日期和文件大小分割-->
      <rollingStyle value="Composite" />
      <!--日期格式，yyyyMMdd-HHmm表示每隔一分钟就生成一个新的日志文件，yyyyMMdd表示以日为单位生成日志文件-->
      <datePattern value="yyyyMMdd" />
      <!--根据大小分割日志文件的最大数量-->
      <maxSizeRollBackups value="10" />
      <!--单个日志文件的最大容量,单位可以是KB，MB-->
      <maximumFileSize value="1MB" />
      <layout type="mylog4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
      </layout>
    </appender>
    <appender name="FileAppenderForChainsaw" type="mylog4net.Appender.FileAppender">
      <file value="log/logfile.xml" />
      <appendToFile value="true" />
      <!--将日志输出到log4j规范的xml文件，这些文件可用Log4j项目的日志查看器Chainsaw查看。-->
      <!--注意：此时，官方的log4net.dll中将中文字符设为无效字符了，若要在日志中写入中文字符，
      需修改log4net.Util.Transform类中的私有静态变量INVALIDCHARS，然后重新编译成自己的mylog4net.dll并在项目中引用。-->
      <layout type="mylog4net.Layout.XmlLayoutSchemaLog4j">
        <!--若为true,则日志中将记录语句所在的文件、类、方法、行等信息，对性能影响很大，需考虑。 -->
        <locationInfo value="false" />
      </layout>
    </appender>
    <!--日志记录器，跟记录器是必需的(有且只有一个)。此外还可定义自己的记录器。-->
    <root>
      <!--日志输出级别，级别从低到高分别为：DEBUG, INFO,WARN,ERROR,FATAL；只有大于等于指定级别的日志才会被输出。-->
      <level value="DEBUG" />
      <!--本记录器的日志将输出到上面定义的哪一种介质。-->
      <appender-ref ref="RollingLogFileAppender" />
    </root>
  </mylog4net>